(()=>{"use strict";const e={scrollPosition:0,disabledScroll(){this.scrollPosition=window.scrollY,document.body.style.cssText=`\n      overflow: hidden;\n      position: fixed;\n      top: -${this.scrollPosition}px;\n      left: 0;\n      height: 100vh;\n      width: 100vw;\n      padding-right: ${window.innerWidth-document.body.offsetWidth}px;\n    `,document.documentElement.style.scrollBehavior="unset"},enabledScroll(){document.body.style.cssText="",window.scroll({top:this.scrollPosition}),document.documentElement.style.scrollBehavior=""}};document.addEventListener("DOMContentLoaded",(()=>{const t=function({modal:t,btnOpen:n,btnClose:s="",time:o=300}){const i=document.querySelectorAll(n),l=document.querySelector(t);if(null!==l){l.style.cssText=`\n      display: flex;\n      visibility: hidden;\n      opacity: 0;\n      transition: opacity ${o}ms ease-in-out;\n    `;const t=()=>{l.style.opacity=0,setTimeout((()=>{l.style.visibility="hidden",e.enabledScroll()}),o),window.removeEventListener("keydown",n)},n=e=>{const n=e?e.target:null;e&&n!==l&&!n.closest(".modal__close")&&"Escape"!==e.code||t()},c=()=>{l.style.visibility="visible",l.style.opacity=1,window.addEventListener("keydown",n),e.disabledScroll()};return i.forEach((e=>{e.addEventListener("click",c)})),l.addEventListener("click",n),""!==s&&document.querySelector(s).addEventListener("click",t),{open:c,close:n}}}({modal:".main__modal"});document.querySelector(".open__modal").addEventListener("click",(()=>t.open()));const n=document.querySelector(".form"),s=function(){try{const e=document.querySelector(".main__form"),t=e.querySelector("form"),n=e.querySelector(".success");if(t&&n){const e=e=>{const n=t.querySelector(".form__btn");n.classList.toggle("loading",e),n.disabled=e};return{start:()=>{e(!0)},finish:()=>{e(!1)},success:()=>{t.style.display="none",n.classList.add("visible"),t.reset()},error:e=>e||"Ошибка",reset:()=>{e(!1),t.style.display="",n.classList.remove("visible"),t.reset()}}}}catch(e){}}();n.addEventListener("submit",(async e=>{e.preventDefault();try{const e=function(e){return{email:(e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value);return e.classList.toggle("invalid",!t),t})(e.querySelector('input[type="email"]')),name:(e=>{const t=e.value.trim().length>0;return e.classList.toggle("invalid",!t),t})(e.querySelector('input[name="name"]')),message:(e=>{const t=e.value.trim().length>0;return e.classList.toggle("invalid",!t),t})(e.querySelector('textarea[name="message"]'))}}(n);if(e.email&&e.name&&e.message){s.start();const e=await async function(e){const t=new FormData(e);try{const e=await fetch("https://mp2a61c2e84e64c2fd14.free.beeceptor.com/data",{method:"POST",body:t});return!!e.ok&&(await e.json(),!0)}catch(e){return!1}}(n);e?(s.finish(),s.success()):s.error()}}catch(e){s.error()}}))}))})();